### TCP/IP 协议族
HTTP协议是 TCP/IP 的一个子集  
TCP/IP协议族按层次分为以下四层
- 应用层：应用层规定了向用户提供应用服务时通信的协议，如：FTP（文件传输协议）、 DNS（域名系统）以及HTTP协议
- 传输层：传输层对接上层应用层，提供处于网络连接中两台计算机之间的数据传输所使用的协议（TCP，UDP）
    - TCP 是全双工的，即发送数据和接收数据是同步进行的，建立需要三次握手和断开连接需要四次挥手，传输稳定可靠，但没UDP那么高效
    - UDP协议是面向无连接的，即传递数据前不需要建立连接，所以UDP协议比TCP更加高效和轻便，同时不够稳定
- 网络层：网络层规定了数据通过怎样的传输路线到达对方计算机
- 链路层：处理连接网络的硬件部分，包括控制操作系统、硬件的设备驱动、网卡，及光纤等物理可见部分

### 报文
| 通用 | 作用（请求报文和响应报文都可能使用）  |
|  ----  | ----  |
| Cache-Control  | 控制缓存的行为：no-cache（强制向服务器再次验证）、no-store（不做任何缓存）、max-age=111111（资源可缓存最大时间 秒）、public（客户端、代理服务器都可利用缓存）、private（代理服务器不可用缓存） |
|  Connection  | 浏览器想要优先使用的连接类型： keep-alive close（开启和关闭持久连接）  |
|  Date  | 创建报文时间  |
|  Transfer-Encoding  | 传输编码方式：chunked分块传输  |

| 请求报文 | 作用  |
|  ----  | ----  |
|  Accept  | 能正确接收的媒体类型：application/json text/plain  |
|  Accept-Encoding  | 能正确接收的编码格式列表：gzip deflate  |
|  Accept-Language  | 能正确接收的语言列表：zh-cn,zh;1=0.9,en,1=0.8  |
|  Authorization  | 客户端认证信息：Bearer dSdSdFFlsfdjasd123，一般存token用  |
|  Cookie  | 发送给服务器的Cookie信息  |
|  Host  | 服务器的域名，用于区分单台服务器多个域名的虚拟主机，是HTTP/1.1唯一必须包含的字段。  |
|  If-Match  | 两端资源标记比较，只有判断条件为真服务端才会接受请求：If-Mach: "123456，和服务端文件标记比较  |
|  If-Modified-Since  | 本地资源未修改返回 304（比较时间）  |
|  If-None-Match  | 本地资源未修改返回 304（比较标记）  |
|  User-Agent  | 客户端信息，操作系统、浏览器等信息  |
| Range | 请求某个内容的一部分（断点续传） |

| 响应报文 | 作用  |
|  ----  | ----  |
|  Accept-Ranges  | 告知客户端服务器是否可接受范围请求，是bytes，否none  |
|  Age  | 资源在代理缓存中存在的时间  |
|  ETag  | 资源标识，资源发生变化时标识也会发生改变  |
|  last-modified  | 服务器认定的资源做出修改的日期及时间  |
|  Server  | 服务器名字  |

### 请求方法
1. get：一般用于请求资源
2. post：同 get，不同在于传递参数方式不同
3. put：更新数据，幂等
4. head：请求获取资源的响应消息报头
5. delete：删除
6. options：获取当前URL支持的方法
7. trace：用于激发一个远程的，应用层的请求消息回路
8. connect：请求连接转换到TCP/TP通道

**post 与 get 区别**（[w3cschool](https://www.w3school.com.cn/tags/html_ref_httpmethods.asp)）
|     | GET  | POST  |
|  ----  | ----  | ----  |
| 后退按钮/刷新  | 无害 | 数据会被重新提交（浏览器应该告知用户数据会被重新提交） |
| 书签  | 可收藏为书签 | 不可收藏为书签 |
| 缓存  | 能被缓存 | 不能缓存 |
| 编码类型  | application/x-www-form-urlencoded | application/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码 |
| 历史  | 参数保留在浏览器历史中 | 参数不会保存在浏览器历史中 |
| 对数据长度的限制  | 当发送数据时，GET 方法向 URL 添加数据；URL 的长度是受限制的（URL 的最大长度是 2048 个字符） | 无限制 |
| 对数据类型的限制  | 只允许 ASCII 字符 | 没有限制。也允许二进制数据 |
| 安全性  | 与 POST 相比，GET 的安全性较差，因为所发送的数据是 URL 的一部分 | POST 比 GET 更安全，因为参数不会被保存在浏览器历史或 web 服务器日志中 |
| 可见性  | 数据在 URL 中对所有人都是可见的 | 数据不会显示在 URL 中 |

标准总结：
- GET 用于获取信息，是无副作用的，是幂等的，且可缓存
- POST 用于修改服务器上的数据，有副作用，非幂等，不可缓存

实际上，GET 和 POST 方法没有实质区别，只是报文格式不同。  
GET 和 POST 只是 HTTP 协议中两种请求方式，而 HTTP 协议是基于 TCP/IP 的应用层协议，无论 GET 还是 POST，用的都是同一个传输层协议，所以在传输上，没有区别。


### 状态码
1. 1xx：信息，服务器收到请求，需要请求者继续执行操作
    - 100 Continue，表示请求已接收，继续处理

2. 2xx：成功，操作被成功接收并处理
    - 200 OK，请求成功
    - 202 Accepted，已接受。已经接受请求，但未处理完成
  
3. 重定向，需要进一步的操作以完成请求
    - 301 Moved Permanently，永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替
    - 302 Found，临时移动。与301类似。但资源只是临时被移动，在重定向的时候改变 method: 把 POST 改成 GET
    - 304 Not Modified，未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源
    - 307 Temporary Redirect，同样为临时移动，在重定向时不会改变 method
    
4. 客户端错误，请求包含语法错误或无法完成请求
    - 400	Bad Request	客户端请求的语法错误，服务器无法理解
    - 401	Unauthorized	请求要求用户的身份认证
    - 403	Forbidden	服务器理解请求客户端的请求，但是拒绝执行此请求
    - 404	Not Found	服务器无法根据客户端的请求找到资源（网页）
    - 405	Method Not Allowed	客户端请求中的方法被禁止
    - 408	Request Time-out	服务器等待客户端发送的请求时间过长，超时
    - 415	Unsupported Media Type	服务器无法处理请求附带的媒体格式

5. 服务器错误，服务器在处理请求的过程中发生了错误
    - 500	Internal Server Error	服务器内部错误，无法完成请求
    - 502	Bad Gateway	作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应
  


